<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Bottles.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCo Coverage Report</a> &gt; <a href="index.source.html" class="el_package">edu.hm.gaertner.simon.lab23.a23</a> &gt; <span class="el_source">Bottles.java</span></div><h1>Bottles.java</h1><pre class="source lang-java linenums">package edu.hm.gaertner.simon.lab23.a23;

import edu.hm.cs.rs.se.ss23.a23.Bottle;
import edu.hm.cs.rs.se.ss23.a23.fluid.Fluid;

import java.util.Collection;

/**
 * Task 2.2.
 */
<span class="nc" id="L11">public class Bottles {</span>

    /**
     * Fill fluid into bottle if the bottle is empty.
     * If bottle is full do nothing.
     * @param bottle which should be filled.
     * @param fluid of the bottle.
     * @param &lt;F&gt; generic for fluid
     */
    public static &lt;F extends Fluid&gt; void tryFill(Bottle&lt;? super F&gt; bottle, F fluid){
<span class="fc bfc" id="L21" title="All 2 branches covered.">        if(bottle.empty())</span>
<span class="fc" id="L22">            bottle.fill(fluid);</span>

<span class="fc" id="L24">    }</span>

    /**
     * Remove fluid from bottle when bottle is full.
     * If bottle is empty return null.
     * @param bottle which should be emptied.
     * @param &lt;F&gt; generic for bottle fluid
     * @return null when bottle was empty, otherwise the fluid.
     */
    public static &lt;F extends Fluid&gt; F tryConsume(Bottle&lt;F&gt; bottle){

<span class="fc" id="L35">        F result = null;</span>

<span class="fc bfc" id="L37" title="All 2 branches covered.">        if (!bottle.empty())</span>
<span class="fc" id="L38">            result = bottle.consume();</span>

<span class="fc" id="L40">        return result;</span>
    }

    /**
     * Check fluid of bottle - change nothing on the bottle.
     * @param bottle which should be checked
     * @param &lt;F&gt; generic for fluid
     * @return null if the bottle is empty, otherwise the fluid
     */
    public static &lt;F extends Fluid&gt; F peekInto(Bottle&lt;F&gt; bottle){
<span class="fc" id="L50">        final F result = tryConsume(bottle);</span>
<span class="fc" id="L51">        tryFill(bottle, result);</span>

<span class="fc" id="L53">        return result;</span>
    }

    /**
     * Count bottles in the collection which contains the fluid.
     * @param fluid which should be count.
     * @param collection of bottles.
     * @param &lt;F&gt; generic for fluid
     * @return number of bottles which contains the fluid.
     */
    public static &lt;F extends Fluid&gt; int countWith(F fluid, Collection&lt;Bottle&lt;? extends F&gt;&gt; collection){

<span class="fc" id="L65">        int counter = 0;</span>

<span class="fc bfc" id="L67" title="All 2 branches covered.">        for (Bottle&lt;? extends F&gt; bottle: collection) {</span>
<span class="fc bfc" id="L68" title="All 2 branches covered.">            if(!bottle.empty()){</span>
<span class="fc" id="L69">                final Fluid content = peekInto(bottle);</span>

<span class="fc bfc" id="L71" title="All 2 branches covered.">                if(content.equals(fluid))</span>
<span class="fc" id="L72">                    counter++;</span>

            }
<span class="fc" id="L75">        }</span>
<span class="fc" id="L76">        return counter;</span>
    }

    /**
     * Fill bottle one in bottle two.
     * @param bottleOne will be empty after method, when bottle two is empty.
     * @param bottleTwo will be full after method, when bottle one is not empty.
     */
    public static void fillOver(Bottle&lt;? extends Fluid&gt; bottleOne, Bottle&lt;? super Fluid&gt; bottleTwo){
<span class="fc" id="L85">        final Fluid fluid = tryConsume(bottleOne);</span>
<span class="fc" id="L86">        tryFill(bottleTwo, fluid);</span>
<span class="fc" id="L87">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>